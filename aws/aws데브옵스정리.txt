1.데브옵스란?
스킵



2.aws툴
1.iac란?
	iac는 코드기반 인프라로,클라우드포메이션이나 그런걸 써서 세팅을 코드화 시켜놓고,클라우드에서 서버를 할당받은다음 그코드대로 세팅을 하는식임
	이떄 쉘스크립트 기반으로 인프라를 구성하게 됨
	iac의 장점으론,세팅에 드는 비용이 감소하고,시간이 줄어듬(한번만들어두면 재사용되니까)
	그리고 실수로인한 리스크가 감소함(한번ok나면 리스크가 0임 두번쨰부턴)
	
	iac도구로는 클라우드포메이션이나 테라폼듬이 있음


2.aws cloudformation
	클라우드포메이션은 aws에서 사용하는 iac임
	얘는 모든 aws리소스에 사용가능하고,여기다 템플릿을 넣으면 해당 리소스를 프로비저닝하고 구성함(세팅)
	즉 리소스를 개별적으로 생성하고 구성할필요가 없고,어디에 의존하는지 파악할필요도 없음
	
	클라우드포메이션의 장점은
		인프라 관리가 간소화됨
		인프라 복제가 간편해짐
		인프라 변경사항 추적이 쉬워짐
	이 있음
	
	클라우드포메이션의 방식은,
		yaml로 템플릿을 작성하고
		그걸 aws에 올리면
		aws가 그걸보고 스택을 생성하고
		스택순서대로 리소스를 생성하고
		완료되면 완료신호를 줌
	으로 구성됨
	이떄 템플릿은 직접작성할수도있고,샘플템플릿을 받아서 수정할수도 있음
	여기서 리소스생성에 실패하면(스택생성에 실패),생성된 리소스들을 삭제하고,변경사항을 롤백함
	
	클라우드포메이션은
		템플릿
		클라우드포메이션
		스택
	으로 구성됨
	
	템플릿으로 스택을 만드는게 클라우드포메이션
	스택으로 리소스를 만드는게 aws가 할일
	
	이때 탬플릿을 쓸수도있고,aws cloudformation designer로 gui기반으로 템플릿을 뽑아낼수도 있음
	
	템플릿의 구성요소는
		AWSTemplateFormatVersion:버전날짜
		Description:주석
		Metadata:{템플릿 추가정보}
		Parameters:{템플릿실행시 전달할 파라미터값들(용량같은거)}
		Mapping:{템플릿 실행시 선택해야하는값(리전같은거)}
		Conditions:{특정자원에 대한 생성여부조건}
		Transform:{서버리스앱용 }
		Resources:{생성할aws 리소스 나열(필수)}
		Outputs:{생성완료후 리턴할거}
	로 구성되어있음
	
	여기서 파라메터는 스택생성시 리소스와 아웃풋세션에서 참조할값을 지정하는 섹션으로,직접타이핑하거나 선택할수있음,여기를 참조해갈수있음(쿠버네티스 볼륨쓸때처럼)
	리소스는 실제로 생성할 리소스를 선언함,리소스섹션은 인스턴스나 버킷을 생성할때 필요한 속성값과 키페어파라미터를 참조해서 구성함
	아웃풋섹션은 스택생성후 리소스생성을 완료하고나서 결과값을 리턴받을수있음

	생성시엔
	템플릿은 책 참조하고
	이걸 클라우드포메이션 스택에서 스택생성을 누르고 템플릿업로드하고
	vpc같은거 선택사항있으면 선택하고 완료누르면됨
	
	업데이트할땐
	생성된 스택을 누르고 업데이트를 누르고 파일을 업로드하고
	변경세트보기로 변경점 확인하고 실행하면됨
	
	삭제할땐 스택가서 삭제하면됨
	
	
	
	그리고 클라우드포메이션으로 생성된 인스턴스에 접속하려면 키페어를 부여하고,ssh접속을위해 시큐리티그룹을 변경하고,앱을 변경할때 업데이트해야함
	키페어 생성은 서비스-컴퓨팅-ec2-네트워크및 보안-키페어-키페어 생성으로 생성하고
	거기서 나온키를 파라메터에 넣고,리소스에서 가져다쓰면됨
	ssh로케이션도 동일
	그리고 리소스에서 webserversecurityhroup에 ssh접속을 위한 포트와 ssh접속을 위한 보안그룹규칙에 추가함
	그리고 이걸 업데이트하면됨
	


3.aws opsworks
	opsworks는 chef나 puffet기반으로 클라우드에서 iac를 하는 도구임
	opsworks는 chef와 puppet,stacks기반으로 할수있음
	칩과 퍼펫은 원래있던걸 클라우드에서 쓰는거고
	스택은 aws기반으로 서버관리하는건데,aws에서 만든거
	칩과 퍼펫도 내부적으론,스택으로 돌아감(레시피를 번역해서 스택으로 바꿈)
	
	칲은 레시피기반으로 자동화관리,보안자동화테스트등을 하는 플랫폼으로
	이걸기반으로 aws에서 돌릴수있음
	
	칲은
		iac가능
		확장이 쉬움
		인아웃바운드 제어가능
	등의 장점이 있음
	얘도 뭐 클라우드포메이션이랑 비슷한방식으로 제어됨






















