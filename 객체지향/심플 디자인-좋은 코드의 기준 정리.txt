좋은코드란
  테스트를 통과해야함
  의도를 드러내야함
  중복로직이 없어야함
  클래스+메서드의 갯수가 적어야함
테스트는 당연히 통과해야하고,의도를 드러낸다는건 좀 주관적임
그래서 중복이 없으면서 구성요소가 최소한인 코드를 일단 목표로 하는게 좋음
즉
  코드에서 중복을 제거한다
  그러면서 구성요소를 줄일 방법을 찾는다
이렇게 진행해야함

중복을 제거하는건 생각보다 어려움(숨어있는중복,가짜중복)

메서드추출은 위험할수있음
이건 중복추출할떄도 쓰이지만 긴함수를 짧게 만드는데도 사용됨
긴 함수는 나쁘지만 잘못된 추출함수는 코드품질이 더 떨어짐(여기갔다가 저기갔다가)
정적인 코드와 동적인 프로세스사이의 개념적 불일치,즉 점프하는거 자체가 비용임
특히 함수는 순수함수처럼 멱등하게 동작시키게하는게 좋음(내부에서 다만들어서 주지말고,자기가 맡은부분만)
즉 배송비계산의 경우엔 배송비만 리턴하고,총금액을 함수안에서 합쳐서 리턴하지않는게 좋음

즉 사이드이펙트로 인한 예상밖의 동작(멱등보장x)와
함수안에 직접 들어가지않으면 어디서 상태를 변화시키는지 모른다는게 문제가됨
  cal_ship_fee(amount)//이건 내부로직에서 총금액과 배송비를 합침
  amount=amount+cal_ship_fee(amount) //이건 내부로직에서 배송비만 계산해서 리턴
즉 총금액과 배송비를 합치는,
즉 상태가 변경되는지점이 원함수내에 있을경우엔(amount=amount+cal_ship_fee(amount)) 해당부분이 중요하지않으면 안을 들여다보지않아도됨

즉 함수에서 사이드이펙트를 제거하는게 좋음
순수함수에 가깝게 만드는게 좋고
함수를 Mutator(상태변경)과 Accessor(계산)으로 구분하는게 좋음(계산과 쓰기를 분리해서 한 함수는 하나만하게)
