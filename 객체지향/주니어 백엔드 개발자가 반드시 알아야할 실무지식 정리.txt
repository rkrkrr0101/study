1.들어가며
  스킵
2.느려진 서비스 어디부터 봐야할까
1.처리량과 응답시간
  1.응답시간
    요청이 10초이상걸리면 성능이 나쁜거임
    이때 서버성능과 관련있는 중요지표 2개는 응답시간과 처리량임
    
    응답시간은 사용자의 요청을 처리하는데 걸리는 시간임
    가장 일반적인 요청은 
      1.api요청
	    1.1번 sql실행
	    2.2번 sql실행
	  2.json 반환
    이런 순서를 가지게되는데,이떄 api요청을 호출하고 json반환을 받을때까지 걸린 시간이 응답시간임
    
    응답시간을 나눠보면
      api요청
        서버에 연결
	    서버로 데이터 전송
	  서버실행
	    sql실행
	    응답생성 등
	  api응답
	    클라이언트로 데이터전송
    이렇게 나눠짐
    서버에 연결은 tcp를 이용해서 서버와 연결하는거고,데이터전송은 프로토콜에 맞춰 데이터를 서버에 전송하는것
    또한 응답시간은 응답데이터중 첫바이트가 도착하는데 걸린시간(TTFB)와 응답데이터중 마지막 바이트가 도착하는데 걸리는 시간(TTLB)로 나눌수도있음
    이건 보통땐 상관없는데,다운로드같은거나 네트워크가 느릴떈 차이가 커질수있음
    
    응답시간은 보통 ms단위로 잼
    응답시간은 사업에 영향이 큼(100ms지연시 매출1%감소)
    
    응답시간은 api요청 전송시간,서버의 처리시간,api응답 전송 시간으로 나뉨
    서버개발자는 주로 서버의 처리시간을 확인하고,서버처리시간은 다음과 같은 요소를 포함함
      로직수행
	  db연동
	  외부api연동
	  응답데이터 전송
    이중 db연동과 api연동이 응답시간에 큰 비중을 차지함
    그래서 이걸 줄이는게 핵심임
  2.처리량
    처리량은 단위시간당 시스템이 처리하는 작업량을 의미하고,흔히 TPS(초당 트랜잭션 수)나 RPS(초당 요청 수)로 나타냄
	
	최대TPS는 시스템이 처리할수있는 최대 요청수를 의미함
	서버가 한번에 5개의 요청을 처리할수있고,요청당 처리시간이 1초라면 5임
	이걸 넘긴수의 요청이 들어오면,초과된 요청을 나중에 처리함(2초)
	
	응답시간의 증가는 사용자 이탈로 이어질수있음,그래서
	  서버가 동시에 처리할수있는 요청수를 늘려 대기시간 줄이기(배치크기 늘리기)
	  처리시간 자체를 줄여 대기시간 줄이기(속도 높이기)
	두 방법을 적용해 TPS를 높여야함
	
	모든 개선을 할때 제일 먼저해야할건 측정임
	먼저 트래픽이 많은 시간대의 TPS와 응답시간을 측정하고,이결과를 바탕으로 목표TPS와 응답시간을 설정하고 효과적인 성능개선안을 도출해야함
	이때 가장쓰기편한건 모니터링시스템임(스카우터,뉴렐릭등)

2.서버 성능 개선 기초
  1.병목 지점
	
	
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  